<Window x:Class="KutuphaneOtomasyon.Views.ForgotPasswordWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Şifremi Unuttum" Height="450" Width="400"
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize"
        Background="#F3F4F6">
    
    <Border CornerRadius="12" Margin="20" Background="White">
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" ShadowDepth="0" Opacity="0.1"/>
        </Border.Effect>
        
        <Grid Margin="30">
            <StackPanel VerticalAlignment="Center">
                
                <TextBlock Text="Şifre Kurtarma" FontSize="24" FontWeight="Bold" 
                           Foreground="#1F2937" HorizontalAlignment="Center" Margin="0,0,0,30"/>

                <!-- AŞAMA 1: E-POSTA GİRİŞ -->
                <StackPanel x:Name="pnlEmail">
                    <TextBlock Text="Hesap E-posta Adresi" Foreground="#4B5563" Margin="0,0,0,5"/>
                    <TextBox x:Name="txtEmail" Height="40" Padding="10,0" VerticalContentAlignment="Center"
                             BorderBrush="#E5E7EB" BorderThickness="1"/>
                    
                    <Button x:Name="btnKodGonder" Content="Doğrulama Kodu Gönder" Height="45" Margin="0,20,0,0"
                            Background="#3B82F6" Foreground="White" BorderThickness="0"
                            FontSize="14" FontWeight="SemiBold" Click="btnKodGonder_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="6"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                </StackPanel>

                <!-- AŞAMA 2: KOD VE YENİ ŞİFRE -->
                <StackPanel x:Name="pnlReset" Visibility="Collapsed">
                    <TextBlock Text="Doğrulama Kodu (Email'inize gelen)" Foreground="#4B5563" Margin="0,0,0,5"/>
                    <TextBox x:Name="txtKod" Height="40" Padding="10,0" VerticalContentAlignment="Center"
                             BorderBrush="#E5E7EB" BorderThickness="1" Margin="0,0,0,15"/>

                    <TextBlock Text="Yeni Şifre" Foreground="#4B5563" Margin="0,0,0,5"/>
                    <PasswordBox x:Name="txtYeniSifre" Height="40" Padding="10,0" VerticalContentAlignment="Center"
                                 BorderBrush="#E5E7EB" BorderThickness="1"/>

                    <Button x:Name="btnSifreSifirla" Content="Şifreyi Güncelle" Height="45" Margin="0,20,0,0"
                            Background="#10B981" Foreground="White" BorderThickness="0"
                            FontSize="14" FontWeight="SemiBold" Click="btnSifreSifirla_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="6"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                </StackPanel>
                
                <Button Content="Giriş Ekranına Dön" Click="btnIptal_Click" Cursor="Hand"
                        Background="Transparent" BorderThickness="0" Foreground="#6B7280" Margin="0,20,0,0"/>
                
            </StackPanel>
        </Grid>
    </Border>
</Window>
